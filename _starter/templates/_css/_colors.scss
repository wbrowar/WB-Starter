// COLORS
@mixin automated_colors {
<% for (const scheme in colors) { -%>
<% if (scheme === 'default') { -%>
<% for (const color in colors[scheme]) { -%>
<% let colorVal = colors[scheme][color] -%>
    --color-<%- color %>-hsl: #{ hue(<%- colorVal %>) }, #{ saturation(<%- colorVal %>) }, #{ lightness(<%- colorVal %>) };
    --color-<%- color %>-a: #{ alpha(<%- colorVal %>) };
    --color-<%- color %>: hsla(var(--color-<%- color %>-hsl), var(--color-<%- color %>-a));
<% } -%>
<% } else if (['dark', 'light'].includes(scheme)) { -%>
  @media (prefers-color-scheme: <%- scheme %>) {
<% for (const color in colors[scheme]) { -%>
<% let colorVal = colors[scheme][color] -%>
      --color-<%- color %>-hsl: #{ hue(<%- colorVal %>) }, #{ saturation(<%- colorVal %>) }, #{ lightness(<%- colorVal %>) };
      --color-<%- color %>-a: #{ alpha(<%- colorVal %>) };
<% } -%>
  }
<% } } -%>
}

<% for (const color in colors.default) { %>$color_<%- color %>: var(--color-<%- color %>);
<% } %>
<% for (const color in colors.default) { %>$color_<%- color %>_raw: <%- colors.default[color] %>;
<% } %>
@mixin automated_color_modifiers($selector, $property) {<% for (const color in colors.default) { %>
  @at-root #{ $selector}--<%- color %> {
    #{$property}: $color_<%- color %>;
  };<% } %>
}
@mixin automated_color_schemes($selector_prefix: '.color_scheme--', $selector_suffix: '') {
<% for (const scheme in colors) { -%>
<% if (scheme !== 'default') { -%>
  @at-root #{&}#{$selector_prefix}<%- scheme %>#{$selector_suffix} {
<% for (const color in colors[scheme]) { -%>
<% let colorVal = colors[scheme][color] -%>
    --color-<%- color %>-hsl: #{ hue(<%- colorVal %>) }, #{ saturation(<%- colorVal %>) }, #{ lightness(<%- colorVal %>) };
    --color-<%- color %>-a: #{ alpha(<%- colorVal %>) };
<% } -%>
  }
<% } -%>
<% } -%>
}